<div class="card soft">
  <div class="card-head" style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
    <div>
      <div class="card-title">Parties</div>
      <div class="card-sub">Manage parties</div>
    </div>

    <a class="btn primary" href="{% url 'accounts:party_add' %}">+ Create Party</a>
  </div>

  <div style="margin-top:12px; overflow:auto;">
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th style="width:220px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for p in parties %}
          <tr>
            <td>{{ p.name }}</td>
            <td style="display:flex;gap:8px;flex-wrap:wrap;">
              <a class="btn" href="{% url 'accounts:party_edit' p.id %}">Edit</a>

              <form method="post" action="{% url 'accounts:party_delete' p.id %}" style="display:inline;">
                {% csrf_token %}
                <button class="btn danger" type="submit"
                        onclick="return confirm('Delete this party?')">
                  Delete
                </button>
              </form>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="2">No parties found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
