{% extends "accounts/base_app.html" %}
{% load static %}
{% block title %}Utilities - InventTech{% endblock %}

{% block content %}
<div class="util-wrap">

  <div class="util-top">
    <div>
      <h2 class="util-h">Utilities</h2>
      <p class="util-sub">Setup masters, workflow settings, and admin tools for InventTech.</p>
    </div>

    <div class="util-search">
      <svg class="ico" viewBox="0 0 24 24">
        <path d="M21 21l-4.3-4.3"/>
        <path d="M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/>
      </svg>
      <input id="utilSearch" type="text" placeholder="Search utilities (material, party, bom, unit...)">
    </div>
  </div>

  <div class="util-grid" id="utilGrid">

    <!-- Masters -->
    <a class="util-tile" href="#" data-key="material master items trims yarn fabric">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M20 7H4"/><path d="M20 12H4"/><path d="M20 17H4"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Material Master</div>
        <div class="util-desc">Items • Trims • Yarn • Fabric</div>
      </div>
      <span class="util-tag">Masters</span>
    </a>

    <a class="util-tile" href="#" data-key="parties customers suppliers jobwork jobber">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Parties</div>
        <div class="util-desc">Customers • Suppliers • Jobworkers</div>
      </div>
      <span class="util-tag">Masters</span>
    </a>

    <a class="util-tile" href="#" data-key="warehouse location godown">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M3 21V8l9-5 9 5v13"/><path d="M9 21v-8h6v8"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Warehouses</div>
        <div class="util-desc">Godown • Store • Locations</div>
      </div>
      <span class="util-tag">Masters</span>
    </a>

    <a class="util-tile" href="#" data-key="unit kg meter pcs">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M6 3h12"/><path d="M9 3v18"/><path d="M15 3v18"/><path d="M6 21h12"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Units</div>
        <div class="util-desc">kg • meter • pcs • cones</div>
      </div>
      <span class="util-tag">Masters</span>
    </a>

    <a class="util-tile" href="#" data-key="company firm branch gst">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M3 21h18"/><path d="M6 21V7l6-4 6 4v14"/><path d="M9 9h6"/><path d="M9 12h6"/><path d="M9 15h6"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Company / Branch</div>
        <div class="util-desc">Firm info • GST • addresses</div>
      </div>
      <span class="util-tag">Masters</span>
    </a>

    <a class="util-tile" href="#" data-key="users roles permissions access">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M4 21a8 8 0 0 1 16 0"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Users & Roles</div>
        <div class="util-desc">Permissions • Groups • Access</div>
      </div>
      <span class="util-tag">Admin</span>
    </a>

    <!-- Production setup -->
    <a class="util-tile" href="#" data-key="techpack style sku">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M7 3h10v18H7z"/><path d="M9 7h6"/><path d="M9 11h6"/><path d="M9 15h6"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Techpack / SKU</div>
        <div class="util-desc">Style details • measurements</div>
      </div>
      <span class="util-tag">Production</span>
    </a>

    <a class="util-tile" href="#" data-key="bom bill of material">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M9 3h6v6H9z"/><path d="M4 14h7v7H4z"/><path d="M13 14h7v7h-7z"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">BOM</div>
        <div class="util-desc">Bill of material per SKU</div>
      </div>
      <span class="util-tag">Production</span>
    </a>

    <a class="util-tile" href="#" data-key="stages workflow cutting stitching finishing qc">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M4 6h16"/><path d="M4 12h10"/><path d="M4 18h16"/><path d="M16 10l4 2-4 2"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Workflow Stages</div>
        <div class="util-desc">Cutting → Stitching → Finishing</div>
      </div>
      <span class="util-tag">Production</span>
    </a>

    <a class="util-tile" href="#" data-key="qc hold reasons defects">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6z"/><path d="M9 12l2 2 4-4"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">QC Reasons</div>
        <div class="util-desc">Hold • Rework • Wastage</div>
      </div>
      <span class="util-tag">Production</span>
    </a>

    <!-- Dispatch & Billing -->
    <a class="util-tile" href="#" data-key="invoice settings gst hsn">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M7 3h10v18l-2-1-3 1-3-1-2 1z"/><path d="M9 8h6"/><path d="M9 12h6"/><path d="M9 16h4"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Invoice Settings</div>
        <div class="util-desc">Numbering • GST • terms</div>
      </div>
      <span class="util-tag">Dispatch</span>
    </a>

    <a class="util-tile" href="#" data-key="dispatch eway challan">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M3 7h14l4 4v6H3z"/><path d="M7 17a2 2 0 1 0 4 0"/><path d="M15 17a2 2 0 1 0 4 0"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Dispatch Settings</div>
        <div class="util-desc">Challan • e-way • formats</div>
      </div>
      <span class="util-tag">Dispatch</span>
    </a>

    <!-- Admin Tools -->
    <a class="util-tile" href="#" data-key="import export csv excel">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M12 3v12"/><path d="M8 11l4 4 4-4"/><path d="M4 21h16"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Import / Export</div>
        <div class="util-desc">CSV • Excel • backups</div>
      </div>
      <span class="util-tag">Admin</span>
    </a>

    <a class="util-tile" href="#" data-key="audit logs activity history">
      <span class="util-ico">
        <svg class="ico" viewBox="0 0 24 24"><path d="M12 8v4l3 3"/><path d="M3 12a9 9 0 1 0 9-9"/></svg>
      </span>
      <div class="util-meta">
        <div class="util-title">Audit Logs</div>
        <div class="util-desc">Who changed what and when</div>
      </div>
      <span class="util-tag">Admin</span>
    </a>

  </div>
</div>

<script>
  (function(){
    const input = document.getElementById("utilSearch");
    const tiles = Array.from(document.querySelectorAll(".util-tile"));
    if(!input) return;

    input.addEventListener("input", () => {
      const q = input.value.toLowerCase().trim();
      tiles.forEach(t => {
        const key = (t.getAttribute("data-key") || "").toLowerCase();
        const text = (t.innerText || "").toLowerCase();
        const show = !q || key.includes(q) || text.includes(q);
        t.style.display = show ? "" : "none";
      });
    });
  })();
</script>
{% endblock %}
